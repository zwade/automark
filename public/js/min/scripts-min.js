var columns=[$("#col1"),$("#col2"),$("#col3")],categories=$("#categories"),numCards=0,bookmarkURL=$("#new-url"),saveModal=$("#save-bookmark"),saveModalContainer=$("#modal-add"),saveModalProgress=saveModalContainer.find(".progress"),tabs=$(".tabs"),datePicker=$(".datepicker"),urlRegEx=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-]*)?\??(?:[\-\+=&;%@\.\w]*)#?(?:[\.!\/\\\w]*))?)/g,addCard=function(a,s,e){var o="<img src='"+s+"'/>";void 0===s&&(o='<div class="bookmark-icon"><i class="mdi-action-bookmark-outline"></i></div>'),columns[numCards%3].append("<a href='"+e+"' target='_blank'><div class='card small'><div class='card-image fill-card'>"+o+"<span class='card-title'>"+a+"</span></div></div></a>");var d=columns[numCards%3].children().last().children();d.scrollfire({onBottomIn:function(a){$(a).addClass("active")}}).scrollfire({onBottomHidden:function(a){$(a).removeClass("active")}});var l=$(window);l.scrollTop()+l.height()>=d.offset().top&&d.addClass("active"),numCards++},addCards=function(a){a.forEach(function(a){addCard(a[0],a[1],a[2])})},addCategory=function(a){categories.append("<li><a class='category' type='"+a+"' href='#"+a+"'>"+a+"</a></li>"),categories.children().last().click(function(){toast($(this).text())})},removeCards=function(){columns.forEach(function(a){a.empty()})},validateURL=function(){!saveModalProgress.hasClass("active")&&bookmarkURL.val().match(urlRegEx)?saveModal.removeClass("disabled"):saveModal.addClass("disabled")};bookmarkURL[0].oninput=validateURL,saveModal.click(function(){if(!saveModal.hasClass("disabled")){saveModal.addClass("disabled"),saveModalProgress.addClass("active");var a=bookmarkURL.val();a.match(/http:\/\//)||(a="http://"+a),addCard("TEST!!!",void 0,a),bookmarkURL.val(""),$("#modal-add").closeModal()}}),$("div a.btn-floating").click(function(){saveModalContainer.openModal(),saveModalProgress.removeClass("active"),saveModal.addClass("disabled")}),$("#add-form").submit(function(){saveModal.click(),event.preventDefault()}),datePicker.pickadate({selectMonths:!0,selectYears:15}),tabs.children().eq(1).click(function(){return tabs.children().eq(1).find("a").hasClass("active")?(datePicker.click(),!1):void 0});