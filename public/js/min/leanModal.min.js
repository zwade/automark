!function($){$.fn.extend({openModal:function(e){var o=this,t=$('<div id="lean-overlay"></div>');$("body").append(t);var i={opacity:.5,in_duration:300,out_duration:200,ready:void 0,complete:void 0,dismissible:!0};if(e=$.extend(i,e),e.dismissible){var n=$("#lean-overlay");n.click(function(){$(o).closeModal(e)}),$(document).keyup(function(t){27===t.keyCode&&($(o).closeModal(e),$(this).off())})}$(o).find(".modal-close").click(function(t){t.preventDefault(),$(o).closeModal(e)}),n.css({display:"block",opacity:0}),$(o).css({display:"block",top:"4%",opacity:0}),n.velocity({opacity:e.opacity},{duration:e.in_duration,queue:!1,ease:"easeOutCubic"}),$(o).velocity({top:"10%",opacity:1},{duration:e.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof e.ready&&e.ready()}})}}),$.fn.extend({closeModal:function(e){var o={out_duration:200,complete:void 0},e=$.extend(o,e);$(".modal-close").off(),$("#lean-overlay").velocity({opacity:0},{duration:e.out_duration,queue:!1,ease:"easeOutQuart"}),$(this).fadeOut(e.out_duration,function(){$(this).css({top:0}),$("#lean-overlay").css({display:"none"}),"function"==typeof e.complete&&e.complete(),$("#lean-overlay").remove()})}}),$.fn.extend({leanModal:function(e){return this.each(function(){$(this).click(function(o){var t=$(this).attr("href");$(t).openModal(e),o.preventDefault()})})}})}(jQuery);